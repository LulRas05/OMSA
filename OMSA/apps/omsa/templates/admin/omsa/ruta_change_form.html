{% extends "admin/change_form.html" %}
{% load static %}

{% block extrastyle %}{{ block.super }}
<link rel="stylesheet" href="{% static 'omsa/admin/map.css' %}">
{% endblock %}

{% block content %}
{{ block.super }}

    <div class="map-panel-container">
        <div id="ruta-map-panel" class="omsa-admin-panel">
            <h2 class="omsa-admin-title">Mapa de la ruta</h2>

            <div id="map-admin" aria-label="Mapa para agregar paradas"></div>

            <div id="od-toolbar" class="omsa-toolbar">
                <button type="button" id="btn-modo-agregar" class="button">
                    Activar agregar paradas
                </button>

                <button type="button" id="btn-agregar-otra" class="button" disabled>
                    Agregar parada adicional
                </button>

                <button type="button" id="btn-limpiar-ultimo" class="button" disabled>
                    Limpiar coords del formulario activo
                </button>
            </div>

            <div id="estado-admin" class="omsa-estado">
                <strong>Estado:</strong> <span data-role="modo">idle</span>
                <span class="sep">|</span>
                <strong>Último clic:</strong> <span data-role="coords">—</span>
            </div>

            <p id="ayuda-admin" class="omsa-ayuda">
            Activa el modo y haz clic en el mapa. Se llenarán lat/lon del formulario activo. 
            Después completa el nombre y pulsa “Agregar parada adicional”.
            </p>
        </div>
    </div>

{% endblock %}

